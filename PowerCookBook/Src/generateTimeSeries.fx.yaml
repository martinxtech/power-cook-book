generateTimeSeries As screen:

    Challenge As image:
        Height: =764
        Image: =generate_time_series
        Width: =818
        ZIndex: =1

    TimeSeriesGallery As gallery.galleryVertical:
        DelayItemLoading: =true
        DisplayMode: =DisplayMode.View
        Fill: =RGBA(237, 237, 237, 1)
        Height: =665
        Items: =TimeSeries
        Layout: =Layout.Vertical
        LoadingSpinner: =LoadingSpinner.Data
        TemplateSize: =42
        Width: =172
        X: =1160
        Y: =19
        ZIndex: =6

        TimeSeriesLabel As label:
            Align: =Align.Center
            Fill: =RGBA(255, 255, 255, 1)
            OnSelect: =Select(Parent)
            Text: =TimeValue(ThisItem.Value)
            X: =4
            Y: =4
            ZIndex: =1

    RunButton As button:
        Color: =RGBA(0, 0, 0, 1)
        Fill: =RGBA(219, 219, 219, 1)
        Height: =41
        HoverFill: =ColorFade(Self.Fill, -20%)
        OnSelect: |-
            =Set(VarStart, DateTime(Year(Today()),Month(Today()),Day(Today()),StartHour.Text,StartMin.Text,00,00));
            Set(VarEnd, DateTime(Year(Today()),Month(Today()),Day(Today()),EndHour.Text,EndMin.Text,00,00));
            
            UpdateContext({vbTimer:true});
            
            Collect(TimeSeries,ForAll( Sequence( 10 ), DateAdd( Today(),30,TimeUnit.Minutes ) ));
            
            Set(viCounter,0);
            Set(viLimit,100);
            Set(vbTimer,true);
            
            If(viCounter<viLimit,
                Notify(viCounter);
                viCounter=viCounter+1;
            ,
                Set(vbTimer,false);
            )
            
            
            //ClearCollect(TimeSeries,VarStart);
            
            //Collect(TimeSeries,ForAll(Sequence(4),DateAdd(DateTimeValue(VarStart),30,TimeUnit.Minutes)));
            
            //Collect(TimeSeries, VarEnd)
            
            //Text( DateAdd( Now(), ‑30, TimeUnit.Minutes ),"dd-mm-yyyy hh:mm" )
            
            //Set(VarNext,Text(DateAdd(DateTimeValue(VarStart),30,TimeUnit.Minutes),"dd-mm-yyyy hh:mm" ));
            //ForAll( Sequence( 10 ), DateAdd( Today(), Value, Days ) )
            
            //Text( DateAdd( Now(), ‑30, TimeUnit.Minutes ),"dd-mm-yyyy hh:mm" )
        RadiusBottomLeft: =0
        RadiusBottomRight: =0
        RadiusTopLeft: =0
        RadiusTopRight: =0
        Text: ="Run"
        Width: =172
        X: =1160
        Y: =696
        ZIndex: =7

    Label2 As label:
        Height: =36
        Text: |-
            =TimeValue(DateAdd(VarStart,30,TimeUnit.Minutes))
            //Text( DateAdd( Now(), ‑30, TimeUnit.Minutes ),"dd-mm-yyyy hh:mm" )
        Width: =208
        X: =860
        Y: =560
        ZIndex: =14

    StartTime As group:
        Height: =5
        Width: =5
        X: =40
        Y: =40
        ZIndex: =14

        StartMin As text:
            Align: =Align.Center
            BorderColor: =RGBA(237, 237, 237, 1)
            Default: =""
            Format: =TextFormat.Number
            HoverBorderColor: =RGBA(255, 255, 255, 1)
            PaddingLeft: =5
            RadiusBottomLeft: =0
            RadiusBottomRight: =0
            RadiusTopLeft: =0
            RadiusTopRight: =0
            Width: =35
            X: =1084
            Y: =19
            ZIndex: =8

        StartHour As text:
            Align: =Align.Center
            BorderColor: =RGBA(237, 237, 237, 1)
            Default: =""
            Format: =TextFormat.Number
            HoverBorderColor: =RGBA(255, 255, 255, 1)
            PaddingLeft: =5
            RadiusBottomLeft: =0
            RadiusBottomRight: =0
            RadiusTopLeft: =0
            RadiusTopRight: =0
            Width: =35
            X: =1049
            Y: =19
            ZIndex: =10

        Label1 As label:
            Fill: =RGBA(237, 237, 237, 1)
            Text: ="Start"
            Width: =50
            X: =999
            Y: =19
            ZIndex: =12

    EndTime As group:
        Height: =5
        Width: =5
        X: =40
        Y: =40
        ZIndex: =14

        EndMin As text:
            Align: =Align.Center
            BorderColor: =RGBA(237, 237, 237, 1)
            Default: =""
            Format: =TextFormat.Number
            HoverBorderColor: =RGBA(255, 255, 255, 1)
            PaddingLeft: =5
            RadiusBottomLeft: =0
            RadiusBottomRight: =0
            RadiusTopLeft: =0
            RadiusTopRight: =0
            Width: =35
            X: =1084
            Y: =70
            ZIndex: =9

        EndHour As text:
            Align: =Align.Center
            BorderColor: =RGBA(237, 237, 237, 1)
            Default: =""
            Format: =TextFormat.Number
            HoverBorderColor: =RGBA(255, 255, 255, 1)
            PaddingLeft: =5
            RadiusBottomLeft: =0
            RadiusBottomRight: =0
            RadiusTopLeft: =0
            RadiusTopRight: =0
            Width: =35
            X: =1049
            Y: =70
            ZIndex: =11

        Label1_1 As label:
            Fill: =RGBA(237, 237, 237, 1)
            Text: ="End"
            Width: =50
            X: =999
            Y: =70
            ZIndex: =13

    Timer1 As timer:
        Duration: =1
        OnTimerEnd: |-
            =If(viCounter<viLimit,
                Notify(viCounter);
                viCounter=viCounter+1;
            ,
                Set(vbTimer,false);
            )
        OnTimerStart: |
            =Set(viCounter,0);
            Set(viLimit,100);
            Set(vbTimer,true);
        Repeat: =true
        Reset: =vbTimer
        Start: =vbTimer
        X: =908
        Y: =227
        ZIndex: =15

